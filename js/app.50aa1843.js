(function(e){function t(t){for(var o,l,i=t[0],n=t[1],c=t[2],m=0,p=[];m<i.length;m++)l=i[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],o=!0,i=1;i<a.length;i++){var n=a[i];0!==r[n]&&(o=!1)}o&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var o={},r={app:0},s=[];function l(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=o,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(a,o,function(t){return e[t]}.bind(null,o));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=n;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06ee":function(e,t,a){},"0986":function(e,t,a){"use strict";a("c628")},"0e46":function(e,t,a){"use strict";a("06ee")},"1b58":function(e,t,a){"use strict";a("f0ec")},"29c1":function(e,t,a){"use strict";a("ca47")},5423:function(e,t,a){"use strict";a("ff4b")},"56d7":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[e.$route.meta.hideLayoutComponents?e._e():a("header-component"),a("router-view"),a("alert-component"),e.$route.meta.hideLayoutComponents?e._e():a("footer-component")],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("b-navbar-toggle",{staticClass:"header__btn-side-menu",attrs:{target:"side-menu"}},[a("font-awesome-icon",{attrs:{icon:["fas","bars"]}})],1),a("h3",{staticClass:"header__title"},[e._v(" "+e._s(e.title)+" ")]),a("b-sidebar",{staticClass:"header__navbar",attrs:{id:"side-menu",title:"MENÚ",backdrop:"",shadow:""}},[a("p",{staticClass:"navbar__title"},[e._v(" Bienvenido: ")]),a("p",{staticClass:"navbar__text"},[e._v(" "+e._s(e.user.email)+" ")]),a("b-nav",{staticClass:"px-3 py-2",attrs:{vertical:""}},[e._l(e.menuItems,(function(t,o){return[t.children?a("b-nav-item-dropdown",{key:o,attrs:{text:t.title}},[e._l(t.children,(function(t,o){return[a("b-dropdown-item",{key:o,attrs:{to:{name:t.routeName}}},[e._v(" "+e._s(t.title)+" ")])]}))],2):a("b-nav-item",{key:o,attrs:{to:{name:t.routeName}}},[e._v(" "+e._s(t.title)+" ")])]})),e.isLoggedIn?a("b-nav-item",{on:{click:function(t){return e.signOut()}}},[e._v(" Cerrar sesión ")]):e._e()],2)],1)],1)},l=[],i=a("2f62"),n=a("2591"),c={data(){return{menuItems:[{title:"Empleados",children:[{title:"Lista",routeName:"employees"},{title:"Crear",routeName:"create-employee"}]}]}},computed:{...Object(i["b"])({title:"getTitle",isLoggedIn:"getIsLoggedIn",user:"getUserData"})},methods:{signOut(){this.$root.$store.dispatch("setLogout"),n["a"].auth().signOut().then(()=>this.$router.go("/"))}}},u=c,m=(a("90c0"),a("2877")),p=Object(m["a"])(u,s,l,!1,null,"a92891c4",null),d=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},h=[],f=(a("c89f"),{}),b=Object(m["a"])(f,g,h,!1,null,"2e67aa7b",null),y=b.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"alert"}},[a("b-alert",{attrs:{show:e.status,dismissible:"",fade:"",variant:e.alertType}},[e._v(" "+e._s(e.message)+" ")])],1)},v=[],C={data(){return{alertType:"",message:"",alertInterval:""}},computed:{alerts(){return this.$root.$store.getters.getAlertQueue},status(){return this.$root.$store.getters.getAlertActiveStatus}},watch:{status(){this.alertIterator(),this.alertInterval=setInterval(this.alertIterator,1500)}},methods:{alertIterator(){if(0==this.alerts.length)return this.$root.$store.dispatch("shutDownAlert"),void setTimeout(clearInterval(this.alertInterval),1500);this.message=this.alerts[0].message,this.alertType=this.alerts[0].type,this.alerts.shift()}}},E=C,S=(a("5423"),Object(m["a"])(E,_,v,!1,null,"11ac62e0",null)),x=S.exports,$={name:"app",components:{"header-component":d,"footer-component":y,"alert-component":x}},w=$,L=(a("5c0b"),Object(m["a"])(w,o,r,!1,null,null,null)),I=L.exports,N=a("bc3a"),k=a.n(N),A=a("2b0e"),O={state:{active:!1,alertQueue:[]},getters:{getAlertActiveStatus:e=>e.active,getAlertQueue:e=>e.alertQueue},actions:{setAlert({commit:e},t){e("SET_ALERT",t)},shutDownAlert({commit:e}){e("SHUT_DOWN_ALERT")},enableAlert({commit:e}){e("ENABLE_ALERT")}},mutations:{SET_ALERT(e,t){e.alertQueue.push({message:t.msg,type:t.type}),setTimeout(()=>e.active=!0,500)},SHUT_DOWN_ALERT(e){e.active=!1},ENABLE_ALERT(e){e.active=!0}}},T={state:{user:{isLoggedIn:!1,data:null}},getters:{getIsLoggedIn:e=>e.user.isLoggedIn,getUserData:e=>e.user.data},actions:{fetchUser({commit:e},t){e("SET_LOGIN"),e("SET_USER",t)},setLogout({commit:e}){e("SET_LOGOUT")}},mutations:{SET_LOGIN(e){e.user.isLoggedIn=!0},SET_LOGOUT(e){console.log(e.user.isLoggedIn),e.user.isLoggedIn=!1,console.log(e.user.isLoggedIn)},SET_USER(e,t){e.user.data=t}}},F={state:{title:"Header"},getters:{getTitle:e=>e.title},actions:{initializeHeader({commit:e},t){e("INITIALIZE_HEADER",t)}},mutations:{INITIALIZE_HEADER(e,t){e.title=t.title}}},D={getEmployees(){return k.a.get("http://localhost:8080/employees.json")},getEmployee(e){return k.a.get("http://localhost:3000/employees/"+e)},delete(e){return k.a.delete("http://localhost:3000/employees/"+e)},post(e){return k.a.post("http://localhost:3000/employees",e)},patch(e){return k.a.put("http://localhost:3000/employees/"+e.id,e)}},j={getRoles(){return k.a.get("http://localhost:8080/roles.json")}},P={state:{employees_map:[],employee_map:{},working_hours:[8,4],employees_filter:[{text:"Todos",value:"all",disabled:!1},{text:"Activos",value:"true",disabled:!1},{text:"Inactivos",value:"false",disabled:!1}],roles:[],salary_filter:["Diario","Semanal","Mensual"],isLoading:!1},getters:{getEmployees:e=>e.employees_map,getEmployee:e=>e.employee_map,getRoles:e=>e.roles,getWorkingHours:e=>e.working_hours,getEmployeeFilters:e=>e.employees_filter,getSalaryFilters:e=>e.salary_filter,getLoading:e=>e.isLoading},actions:{fetchEmployees({commit:e,dispatch:t}){t("setLoading",!0),D.getEmployees().then(a=>{t("setLoading",!1),e("SET_EMPLOYEES",a.data),t("setAlert",{msg:"Consulta de usuarios realizada con éxito",type:"success"})}).catch(e=>{console.log(e),t("setLoading",!1),t("setAlert",{msg:"Error al traer los usuarios de la base de datos",type:"danger"})})},fetchEmployee({commit:e,dispatch:t},a){t("setLoading",!0),D.getEmployee(a).then(a=>{t("setLoading",!1),e("SET_EMPLOYEE",a.data),t("setAlert",{msg:"Consulta de usuario realizada con exito",type:"success"})}).catch(e=>{console.log(e),t("setLoading",!1),t("setAlert",{msg:"Error al traer el usuario de la base de datos",type:"danger"})})},fetchRoles({commit:e,dispatch:t}){j.getRoles().then(a=>{e("SET_ROLES",a.data.roles),t("setAlert",{msg:"Roles cargados con éxito",type:"success"})}).catch(e=>{console.log(e),t("setAlert",{msg:"Error al traer los roles de la base de datos",type:"danger"})})},add(e,t){D.post(t).then(e=>console.log(e)).catch(e=>console.log(e))},edit(e,t){D.patch(t).then(e=>console.log(e)).catch(e=>console.log(e))},delete(e,t){D.delete(t).then(e=>console.log(e)).catch(e=>console.log(e))},setLoading({commit:e},t){e("SET_LOADING",t)}},mutations:{SET_EMPLOYEES(e,{employees:t}){e.employees_map=t},SET_EMPLOYEE(e,t){e.employee_map=t},SET_ROLES(e,t){e.roles=t},SET_LOADING(e,t){e.isLoading=t}}};A["default"].use(i["a"]);var R=new i["a"].Store({modules:{employees:P,alert:O,auth:T,header:F}}),U=a("8c4f"),H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login__wrapper"},[o("img",{attrs:{src:a("cf05"),alt:"Logo"}}),o("h2",{staticClass:"login__title"},[e._v(" Iniciar sesión ")]),o("b-form",[o("b-form-group",{attrs:{id:"user",label:"Usuario","label-for":"user-input"}},[o("b-form-input",{attrs:{id:"user-input",type:"text",placeholder:"Escriba su usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),o("b-form-group",{attrs:{id:"password",label:"Contraseña","label-for":"password-input"}},[o("b-form-input",{attrs:{id:"password-input",type:"password",placeholder:"Escriba su contraseña",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),o("b-button",{staticClass:"btn",attrs:{block:""},on:{click:function(t){return e.login()}}},[e._v(" Ingresar ")])],1)],1)},B=[],W={data(){return{username:"sancheze82@uabc.edu.mx",password:"edgar123"}},methods:{login(){n["a"].auth().signInWithEmailAndPassword(this.username,this.password).then(()=>this.$router.push("employees"),e=>{console.log(e)})}}},z=W,q=(a("0e46"),Object(m["a"])(z,H,B,!1,null,"1b1a785c",null)),M=q.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"list__filters"},[a("b-form-input",{staticClass:"navbar__input",attrs:{type:"text",placeholder:"Buscar por nombre...",required:""},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("div",{staticClass:"filters__btn"},[a("p",{staticClass:"filters__text text-bold"},[e._v(" "+e._s(e.employeesCounter)+" resultados ")]),a("p",{staticClass:"filters__text text-bold",attrs:{id:"popover-reactive-1"}},[e._v(" Filtrar por "),a("font-awesome-icon",{attrs:{icon:["fas","angle-down"]}})],1),a("b-popover",{attrs:{target:"popover-reactive-1",placement:"bottomright",container:"filters"}},[a("b-form-radio-group",{attrs:{id:"radio-filters-list",options:e.employeeFilters,stacked:""},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}})],1)],1)],1),a("div",{staticClass:"list__employees"},[a("loader-component",{attrs:{loading:e.isLoading}}),[a("div",{staticClass:"card-container"},[e._l(e.employees,(function(t,o){return[a("router-link",{key:o,attrs:{to:{name:"profile-employee",params:{id:t.id}}}},[a("card",{key:o,attrs:{firstColumnWidth:"25",secondColumnWidth:"75"},scopedSlots:e._u([{key:"firstColumn",fn:function(){return[a("card-image",{attrs:{imageSize:80,name:t.name[0],lastName:t.lastName[0],imageUrl:t.profileImage,editable:!1,isActive:t.activeEmployee}})]},proxy:!0},{key:"secondColumn",fn:function(){return[a("p",{staticClass:"card__title"},[e._v(" "+e._s(t.name)+" "+e._s(t.lastName)+" ")]),a("p",{staticClass:"card__text"},[e._v(" "+e._s(t.role)+" | "+e._s(t.rfc)+" ")]),a("p",{staticClass:"card__text"},[a("font-awesome-icon",{staticClass:"card__icon",attrs:{icon:"phone-alt"}}),e._v(" "+e._s(t.phoneNumber)+" ")],1)]},proxy:!0}],null,!0)})],1)]}))],2),a("router-link",{staticClass:"btn btn-floating",attrs:{tag:"button",to:{name:"create-employee"}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)]],2)])},V=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card",style:e.gridColumns},[a("div",{staticClass:"firstColumn"},[e._t("firstColumn")],2),a("div",{staticClass:"secondColumn"},[e._t("secondColumn")],2),a("div",{staticClass:"thirdColumn"},[e._t("thirdColumn")],2)])},J=[],Y={props:{firstColumnWidth:{width:String,default:"33.3"},secondColumnWidth:{width:String},thirdColumnWidth:{width:String}},computed:{gridColumns(){return{"--firstColumnWidth":this.firstColumnWidth+"%","--secondColumnWidth":this.secondColumnWidth?this.secondColumnWidth+"%":(100-this.firstColumnWidth)/2+"%","--thirdColumnWidth":this.thirdColumnWidth?this.thirdColumnWidth+"%":this.secondColumnWidth?100-this.firstColumnWidth-this.secondColumnWidth+"%":(100-this.firstColumnWidth)/2+"%"}}}},Z=Y,X=(a("0986"),Object(m["a"])(Z,Q,J,!1,null,"bed6848e",null)),K=X.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image"},[a("div",{staticClass:"image__outline",style:e.image__outline_color},[e.imageUrl||e.imageSrc?a("img",{staticClass:"image-circle",attrs:{width:e.imageSize,height:e.imageSize,src:e.imageUrl}}):a("p",{staticClass:"image-names"},[e._v(" "+e._s(e.joinInitialLetters()))]),e.editable?a("div",{staticClass:"image__background-icon"},[a("label",{attrs:{for:"profile-image"}},[a("font-awesome-icon",{staticClass:"image-icon",attrs:{icon:"camera"}}),a("input",{attrs:{id:"profile-image",name:"myImageProfile",type:"file",accept:"image/png, image/gif, image/jpeg"},on:{change:function(t){return e.onFileChange(t)}}})],1)]):e._e()])])},te=[],ae={props:{name:String,lastName:String,imageUrl:String,imageSize:Number,editable:Boolean,isActive:Boolean},data(){return{imageSrc:null}},methods:{joinInitialLetters(){return this.name&&this.lastName||(this.name="",this.lastName=""),this.name[0]+this.lastName[0]||"+"},onFileChange(e){const t=e.target.files;if(!t.length)return this.imageSrc=null;this.createImage(t[0])},createImage(e){const t=new FileReader;t.onload=e=>{this.imageSrc=e.target.result,this.$emit("input",this.imageSrc)},t.readAsDataURL(e)}},computed:{image__outline_color(){return this.isActive?{"--borderColor":"#72EEA6"}:{"--borderColor":"#BB0000"}},imageSource(){return this.imageUrl||this.imageSrc}}},oe=ae,re=(a("c314"),Object(m["a"])(oe,ee,te,!1,null,"745bdd26",null)),se=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.loading,variant:e.variant,opacity:e.opacity,"no-wrap":""}})},ie=[],ne={props:{loading:Boolean},data(){return{variant:"dark",opacity:.5}}},ce=ne,ue=Object(m["a"])(ce,le,ie,!1,null,null,null),me=ue.exports,pe={name:"listEmployees",components:{card:K,"card-image":se,alert:x,"loader-component":me},data(){return{selectedFilter:"all",searchValue:"",employeesCounter:0}},beforeRouteEnter(e,t,a){a(e=>{e.$root.$store.dispatch("fetchEmployees"),e.$root.$store.dispatch("initializeHeader",{title:"Empleados"})})},computed:{...Object(i["b"])({employeeFilters:"getEmployeeFilters",isLoading:"getLoading"}),employees(){const e=this.$root.$store.getters.getEmployees;return e.filter(e=>this.selectedFilter.indexOf(!e.activeEmployee)).filter(e=>!this.searchValue||e.name.toLowerCase().includes(this.searchValue.toLowerCase())).sort((e,t)=>e.name>t.name?1:-1)}},watch:{employees(){this.employeesCounter=this.employees.length}},filters:{emptyDate:function(e){return e||"Present"}}},de=pe,ge=(a("6fd9"),Object(m["a"])(de,G,V,!1,null,"238f471a",null)),he=ge.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit__wrapper"},[a("loader-component",{attrs:{loading:e.isLoading}}),a("employee-form",{attrs:{employee:e.employee}})],1)},be=[],ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form",{staticClass:"form",attrs:{id:"employeeForm"},on:{submit:e.triggerParentMethod}},[a("card-image",{attrs:{imageUrl:e.employee.profileImage,imageSize:125,name:e.validateString(e.employee.name,0),lastName:e.validateString(e.employee.lastName,0),editable:!0},model:{value:e.employee.profileImage,callback:function(t){e.$set(e.employee,"profileImage",t)},expression:"employee.profileImage"}}),a("b-form-group",{attrs:{id:"name",label:"Nombre","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Ingrese el nombre de su nuevo empleado",required:""},model:{value:e.employee.name,callback:function(t){e.$set(e.employee,"name",t)},expression:"employee.name"}})],1),a("b-form-group",{attrs:{id:"lastName",label:"Apellido","label-for":"lastName-input"}},[a("b-form-input",{attrs:{id:"lastname-input",type:"text",placeholder:"Ingrese el apellido de su nuevo empleado",required:""},model:{value:e.employee.lastName,callback:function(t){e.$set(e.employee,"lastName",t)},expression:"employee.lastName"}})],1),a("b-form-group",{attrs:{id:"telephone",label:"Teléfono","label-for":"telephone-input"}},[a("b-form-input",{attrs:{id:"telephone-input",type:"tel",placeholder:"Ingrese el teléfono de su nuevo empleado",min:"10",required:""},on:{keydown:function(t){return e.phoneNumberFormatter("telephone-input")}},model:{value:e.employee.phoneNumber,callback:function(t){e.$set(e.employee,"phoneNumber",t)},expression:"employee.phoneNumber"}})],1),a("b-form-group",{attrs:{id:"emergencyNumber",label:"Teléfono de emergencia","label-for":"emergencyNumber-input"}},[a("b-form-input",{attrs:{id:"emergencyNumber-input",type:"tel",placeholder:"Ingrese un teléfono en caso de emergencia",min:"10",required:""},on:{keydown:function(t){return e.phoneNumberFormatter("emergencyNumber-input")}},model:{value:e.employee.emergencyNumber,callback:function(t){e.$set(e.employee,"emergencyNumber",t)},expression:"employee.emergencyNumber"}})],1),a("b-form-group",{attrs:{id:"socialNumber",label:"Número de seguro social","label-for":"socialNumber-input"}},[a("b-form-input",{attrs:{id:"socialNumber-input",type:"text",placeholder:"Ingrese el NSS correspondiente",required:""},model:{value:e.employee.socialNumber,callback:function(t){e.$set(e.employee,"socialNumber",t)},expression:"employee.socialNumber"}})],1),a("b-form-group",{attrs:{id:"rfc",label:"RFC","label-for":"rfc-input"}},[a("b-form-input",{attrs:{id:"rfc-input",type:"text",placeholder:"Ingrese el RFC correspondiente",required:""},model:{value:e.employee.rfc,callback:function(t){e.$set(e.employee,"rfc",t)},expression:"employee.rfc"}})],1),a("b-form-group",{attrs:{id:"role",label:"Ocupación","label-for":"role-select"}},[a("b-form-select",{attrs:{plain:"",id:"role-input",options:e.roles,required:""},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:void 0,disabled:""}},[e._v(" Seleccione una opción ")])]},proxy:!0}]),model:{value:e.employee.role,callback:function(t){e.$set(e.employee,"role",t)},expression:"employee.role"}})],1),a("div",{staticClass:"formGroup__salary"},[a("b-form-group",{attrs:{id:"workinghours",label:"Horas de trabajo","label-for":"range-workingHours"}},[a("b-form-input",{staticClass:"formGroup__workingHours__input",attrs:{id:"range-workingHours",type:"range",min:"4",max:"12",required:""},model:{value:e.employee.workingHours,callback:function(t){e.$set(e.employee,"workingHours",t)},expression:"employee.workingHours"}}),a("span",{staticClass:"formGroup__workingHours__text"},[e._v(" "+e._s(e._f("defaultValue")(e.employee.workingHours))+" ")])],1),a("b-form-group",{attrs:{id:"baseSalary",label:"Salario diario","label-for":"baseSalary-select"}},[a("span",{staticClass:"salary__dolar_symbol"},[e._v("$")]),a("b-form-input",{staticClass:"salary__input",attrs:{id:"baseSalary-input",type:"number",placeholder:"0",required:""},model:{value:e.employee.baseSalary,callback:function(t){e.$set(e.employee,"baseSalary",t)},expression:"employee.baseSalary"}})],1)],1),a("b-form-group",{attrs:{id:"startDate-group",label:"Fecha de inicio","label-for":"date-select"}},[a("b-form-datepicker",{attrs:{id:"startDate",placeholder:"Seleccione una fecha",required:""},model:{value:e.employee.startDate,callback:function(t){e.$set(e.employee,"startDate",t)},expression:"employee.startDate"}})],1),a("b-form-group",{attrs:{label:"Subir archivo","label-size":"sm","label-for":"attachment"}},[a("b-form-file",{attrs:{id:"attachment",size:"sm",placeholder:"Presione el botón para subir un archivo"},on:{change:function(t){return e.onFileChange(t)}},model:{value:e.employee.attachment,callback:function(t){e.$set(e.employee,"attachment",t)},expression:"employee.attachment"}})],1),a("b-button",{staticClass:"mr-1 btn-block",attrs:{block:"",variant:"primary",type:"submit"}},[e._v(" Guardar usuario ")])],1)},_e=[],ve={name:"employeeForm",props:{employee:Object},components:{"card-image":se},created(){this.$root.$store.dispatch("fetchRoles")},computed:{workingHours(){return this.$root.$store.getters.getWorkingHours},roles(){return this.$root.$store.getters.getRoles}},methods:{triggerParentMethod(e){e.preventDefault(),this.$parent.save()},validateString(e="",t){return e.substring(t)},async onFileChange(e){const t=e.target.files;if(!t.length)return this.imageSrc=null;const a=await this.getAsByteArray(t[0]);this.employee.attachment[0]=a},async getAsByteArray(e){return new Uint8Array(await this.readFile(e))},readFile(e){return new Promise((t,a)=>{let o=new FileReader;o.addEventListener("loadend",e=>t(e.target.result)),o.addEventListener("error",a),o.readAsArrayBuffer(e)})},phoneNumberFormatter(e){const t=document.getElementById(e),a=this.formatPhoneNumber(t.value);t.value=a},formatPhoneNumber(e){if(!e)return e;const t=e.replace(/[^\d]/g,""),a=t.length;return a<3?t:a<7?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,9)}`}},filters:{defaultValue(e){return e||"8"}}},Ce=ve,Ee=(a("ba79"),Object(m["a"])(Ce,ye,_e,!1,null,"28aeac4a",null)),Se=Ee.exports,xe={name:"edit-employee",components:{"employee-form":Se,"loader-component":me},data(){return{}},computed:{employee(){return this.$root.$store.getters.getEmployee},isLoading(){return this.$root.$store.getters.getLoading}},beforeRouteEnter(e,t,a){a(e=>{e.$root.$store.dispatch("fetchEmployee",e.$route.params.id),e.$root.$store.dispatch("initializeHeader",{title:"Editar empleado"})})},watch:{employee(e,t){console.log(t),console.log(e)}},methods:{save(){this.$root.$store.dispatch("edit",this.employee)}}},$e=xe,we=(a("29c1"),Object(m["a"])($e,fe,be,!1,null,"45260924",null)),Le=we.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create__wrapper"},[a("employee-form",{attrs:{employee:e.employee}})],1)},Ne=[],ke={name:"create-employee",components:{"employee-form":Se},data(){return{employee:{activeEmployee:!1,workingHours:8}}},beforeRouteEnter(e,t,a){a(e=>{e.$root.$store.dispatch("initializeHeader",{title:"Crear empleado"})})},methods:{save(){this.$root.$store.dispatch("add",this.employee)},close(){this.$bvModal.hide("create-employee")}}},Ae=ke,Oe=(a("acad"),Object(m["a"])(Ae,Ie,Ne,!1,null,"7a4ed24a",null)),Te=Oe.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile"},[a("loader-component",{attrs:{loading:e.isLoading}}),a("div",{staticClass:"profile__information"},[a("card-image",{attrs:{imageSize:125,name:e.validateString(e.employee.name,0),lastName:e.validateString(e.employee.lastName,0),imageUrl:e.employee.profileImage,editable:!1}}),a("div",[a("p",{staticClass:"text-bold text-center"},[e._v(" "+e._s(e.employee.name)+" "+e._s(e.employee.lastName)+" ")]),a("p",{staticClass:"text-center"},[e._v(" "+e._s(e.employee.role)+" ")])]),e.employee.endDate?a("p",{staticClass:"text-danger"},[a("span",{staticClass:"font-weight-bold"},[e._v(" Fecha terminación laboral: ")]),e._v(" "+e._s(e.employee.endDate)+" ")]):e._e(),a("div",{staticClass:"profile__contact"},[a("p",[a("span",{staticClass:"font-weight-bold"},[e._v(" Teléfono ")]),e._v(" "+e._s(e.employee.phoneNumber)+" ")]),a("p",[a("span",{staticClass:"font-weight-bold"},[e._v(" Emergencia ")]),e._v(" "+e._s(e.employee.emergencyNumber)+" ")]),a("p",[a("span",{staticClass:"font-weight-bold"},[e._v(" Fecha inicio ")]),e._v(" "+e._s(e.employee.startDate)+" ")]),a("p",[a("span",{staticClass:"font-weight-bold"},[e._v(" Jornada ")]),e._v(" "+e._s(e.employee.workingHours)+" horas ")]),a("p",[a("span",{staticClass:"font-weight-bold"},[e._v(" NSS ")]),e._v(" "+e._s(e.employee.socialNumber)+" ")]),a("p",[a("span",{staticClass:"font-weight-bold"},[e._v(" RFC ")]),e._v(" "+e._s(e.employee.rfc)+" ")])])],1),a("div",{staticClass:"profile__economics"},[a("p",{staticClass:"text-bold text-center"},[e._v(" Cálculos de prestaciones económicas ")]),a("div",{staticClass:"separator"},[a("p",{staticClass:"text-small text-bold "},[e._v(" Sueldo ")]),a("b-form-select",{attrs:{options:e.salaryFilters,size:"sm",placeholder:"Periodo"},on:{change:function(t){return e.onChange(t)}},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v(" Selecciona un filtro para el salario ")])]},proxy:!0}]),model:{value:e.selectedSalaryPeriod,callback:function(t){e.selectedSalaryPeriod=t},expression:"selectedSalaryPeriod"}}),a("p",{staticClass:"text-small text-center"},[a("span",{staticClass:"text-bold"},[e._v(" El pago corresponde a: ")]),e._v(" "+e._s(e._f("toUSD")(e.salary))+" ")])],1),a("div",{staticClass:"separator"},[a("p",{staticClass:"text-small"},[a("span",{staticClass:"text-bold"},[e._v(" Prima vacacional: ")]),e._v(" "+e._s(e._f("toUSD")(e.vacationBonus))+" ")])]),a("div",{staticClass:"separator"},[a("p",{staticClass:"text-small"},[a("span",{staticClass:"text-bold"},[e._v(" Aguinaldo: ")]),e._v(" "+e._s(e._f("toUSD")(e.christmasBonus))+" ")])])]),a("router-link",{staticClass:"btn btn-floating",attrs:{tag:"button",to:{name:"edit-employee",params:{id:e.employee.id}}}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1)],1)},De=[],je={name:"profileEmployee",components:{"card-image":se,"loader-component":me},data(){return{daysPerSalary:1,selectedSalaryPeriod:"Diario"}},beforeRouteEnter(e,t,a){a(e=>{e.$root.$store.dispatch("fetchEmployee",e.$route.params.id),e.$root.$store.dispatch("initializeHeader",{title:"Detalles del empleado"})})},computed:{employee(){return this.$root.$store.getters.getEmployee},salaryFilters(){return this.$root.$store.getters.getSalaryFilters},salary(){return this.employee.baseSalary*this.daysPerSalary},vacationBonus(){return this.vacationBonusCalculator(this.employee.startDate)},christmasBonus(){return this.christmasBonusCalculator(this.employee.startDate)},isLoading(){return this.$root.$store.getters.getLoading}},methods:{onChange(e){switch(e){case"Diario":return this.daysPerSalary=1;case"Semanal":return this.daysPerSalary=7;case"Mensual":return this.daysPerSalary=30}},validateArray(e,t){return e&&e.length>0?e[e.length-1][t]:""},validateString(e="",t){return e.substring(t)},sortNestedArray(e,t){e||e[t].sort((function(e,t){return new Date(e.startDate)-new Date(t.startDate)}))},vacationBonusCalculator(e){const t=365,a=parseInt(this.daysActive(e).toFixed(0)),o=parseInt((this.daysActive(e)/t).toFixed(0));if(a<t)return 0;const r={1:6,2:8,3:10,4:12,5:16,6:18};let s=r[o]||20;return(this.employee.baseSalary*s*.25).toFixed(2)},christmasBonusCalculator(e){const t=365,a=this.daysActive(e);return a<t?(.041*a*this.employee.baseSalary).toFixed(2):(15*this.employee.baseSalary).toFixed(2)},daysActive(e){const t=new Date(e),a=Date.now(),o=864e5;return(a-t)/o}},filters:{toUSD(e){return 0===e?"No aplica por tiempo":`$${e} pesos`},phoneFormat:function(e){return e?"("+e.substring(0,3)+") "+e.substring(3,6)+"-"+e.substring(6):""}}},Pe=je,Re=(a("1b58"),Object(m["a"])(Pe,Fe,De,!1,null,"59f5b472",null)),Ue=Re.exports,He=[{name:"login",path:"/",component:M,meta:{hideLayoutComponents:!0}},{name:"employees",path:"/employees",component:he,meta:{requiresAuth:!0}},{name:"create-employee",path:"/employees/create",component:Te,meta:{requiresAuth:!0}},{name:"profile-employee",path:"/employees/:id",component:Ue,meta:{requiresAuth:!0}},{name:"edit-employee",path:"/employees/edit/:id",component:Le,meta:{requiresAuth:!0}},{path:"/*",redirect:"/"}],Be=a("ecee"),We=a("c074"),ze=a("b702"),qe=a("ad3d"),Me=a("5f5b"),Ge=a("2b88"),Ve=a.n(Ge);a("ab8b"),a("177c");Be["c"].add(ze["a"],We["a"]),A["default"].component("font-awesome-icon",qe["a"]),A["default"].use(U["a"]),A["default"].use(Me["a"]),A["default"].use(Ve.a),A["default"].prototype.$axios=k.a,A["default"].prototype.$store=R;const Qe=new U["a"]({routes:He,mode:"history"});Qe.beforeEach((e,t,a)=>{if(e.matched.some(e=>e.meta.requiresAuth)){const e=R.getters.getIsLoggedIn;e?a():a({path:"/login"})}else a()});var Je={apiKey:"AIzaSyC49cRfBDVXGQx1XJYAF37J7kkFc-TSEZI",authDomain:"blog-list-1d104.firebaseapp.com",databaseURL:"https://blog-list-1d104-default-rtdb.firebaseio.com",projectId:"blog-list-1d104",storageBucket:"blog-list-1d104.appspot.com",messagingSenderId:"757047064866",appId:"1:757047064866:web:d2661f2b8ea8eeab744d7b"};n["a"].initializeApp(Je),n["a"].auth().onAuthStateChanged(e=>{R.dispatch("fetchUser",e)}),new A["default"]({el:"#app",render:e=>e(I),router:Qe,store:R,created(){const e=document.documentElement;e.setAttribute("lang","es")}})},"5c0b":function(e,t,a){"use strict";a("9c0c")},"6fd9":function(e,t,a){"use strict";a("7a96")},"7a96":function(e,t,a){},"90c0":function(e,t,a){"use strict";a("e6ed")},"9c0c":function(e,t,a){},acad:function(e,t,a){"use strict";a("e1f8")},ba72:function(e,t,a){},ba79:function(e,t,a){"use strict";a("dbba")},c314:function(e,t,a){"use strict";a("ba72")},c628:function(e,t,a){},c89f:function(e,t,a){"use strict";a("cafa")},ca47:function(e,t,a){},cafa:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.c3cd8bff.png"},dbba:function(e,t,a){},e1f8:function(e,t,a){},e6ed:function(e,t,a){},f0ec:function(e,t,a){},ff4b:function(e,t,a){}});
//# sourceMappingURL=app.50aa1843.js.map